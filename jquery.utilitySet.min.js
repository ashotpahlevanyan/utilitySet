/*!
 * utilitySet - v1.0 - 2016-05-26
 * http://www.milanvasic.com
 * Copyright (c) 2016 Milan Vasic
 * Licensed MIT ()
*/

!function(a){a.fn.serializeObject=function(){var b={},c=this.serializeArray();return a.each(c,function(){void 0!==b[this.name]?(b[this.name].push&&(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},a.fn.setScroll=function(b,c){if(b===!1)return _.each(this,function(b){a(b).is(":visible")&&a(b).css({height:"",overflow:"auto"})}),!1;var d=a(".top-row"),e=d.is(":visible")?a(window).height()-d.outerHeight():a(window).height(),f="undefined"!=typeof b?b:e;_.each(this,function(b){a(b).css({height:f+"px",overflow:"auto",position:"relative"})})},a.fn.set=function(b){for(var c=b.trim().split(" "),d={"+":{func:"addClass",values:[]},"-":{func:"removeClass",values:[]}},e=0;e<c.length;e++)d[c[e].charAt(0)].values.push(c[e].substring(1));return this.each(function(){var b=a(this);return a.each(d,function(c,d){d.values.length&&a.fn[d.func].call(b,d.values.join(" "))}),b})},jQuery.fn.cCSS=function(b){return this.each(function(){var c={},d="";return ocss=b.split(";"),a.each(ocss,function(a,b){d=b.trim().split(":"),d[0].length>0&&(c[d[0]]=d[1].trim())}),a(this).css(c)})},a.fn.maxHeight=function(b){var c=a.extend({exclude:!1,add:0,height:"auto"},b),d=a(window).height(),e=c.exclude?a(c.exclude).outerHeight():0;return a(this).outerHeight()<d-e&&(c.height=d-e+c.add+"px"),this.css({height:c.height})},a.fn.readMore=function(b){var c=a.extend({words:20,class_name:"read-more-con",trail:"...",moreText:"Expand",lessText:"Show less",parentContainer:"body"},b);return this.each(function(){var b=a(this);b.addClass(c.class_name);var d=b.text(),e=b.text().split(" ");if(e.length>c.words){var f=_.partition(e,function(a,b){return b<c.words}),g=f[0].join(" ")+c.trail;b.html('          <span class="read-more-short">'+g+'</span>          <span class="read-more-original" style="display:none;">'+d+'</span>          <br/><a href="#" class="read-more-toggle" style="float:right">'+c.moreText+"</a>").attr("data-state","short"),a(".read-more-toggle").click(function(b){b.stopPropagation();var d=a(this).closest("."+c.class_name),e="short"===d.attr("data-state")?["short","original"]:["original","short"],f="short"===d.attr("data-state")?c.lessText:c.moreText,g=300;d.find(".read-more-toggle").html(f).end().find(".read-more-"+e[0]).slideUp(g),setTimeout(function(){d.find(".read-more-"+e[1]).slideDown(g).end().attr("data-state",e[1])},g)})}})},a.fn.editMode=function(b,c){var d="undefined"!=typeof b?b:!0;return this.each(function(){d?a(this).addClass("edit-mode-on"):(a(".edit-mode-on *:focus").blur(),a(this).removeClass("edit-mode-on")),c&&c()})},a.fn.scrollToMe=function(b){var c=a.extend({gap:0,complete:function(a){}},b);return this.each(function(){var b=a(this).offset().top-a(window).scrollTop(),d=a(this).offset().top-(a(window).height()-a(this).outerHeight());b+a(this).outerHeight()+c.gap>a(window).height()?a("html, body").animate({scrollTop:d+c.gap},500,function(){c.complete(a(this))}):c.complete(a(this))})},a.fn.swapper=function(b){return this.each(function(){var c=this,d=a.extend({items:null,po_class:"swap-menu"},b);c.init=function(){return d.items?(a(c).attr("data-toggle","popover").attr("data-content","").attr("data-trigger","focus"),void c.events()):(alert('Swapper: parameter "items" has not been defined!'),!1)},c.events=function(){a(c).click(function(b){var e=a(b.currentTarget);e.attr("data-content","<ul>"+c.generate()+"</ul>"),e.popover({animation:!1,html:!0,placement:"bottom",container:"body",template:'<div class="popover '+d.po_class+'" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',trigger:"manual"}).popover("toggle")})},c.generate=function(){var b=a(d.items).offset().top,c="";return a(d.items).each(function(){a(this).offset().top>b&&(c+="<li>"+a(this).html()+"</li>")}),c},c.init()}),this},a.fn.hSlider=function(b){return this.each(function(){var c=this;c.data={slide_state:0,per_view:!1,num:0};var d=a.extend({target:!1,parent:!1,context:!1,nav_width:63,speed:500,nav_class:"nav-arrow"},b);c.methods={init:function(){c.methods.setContext(),d.parent=a(c),c.data.num=a(d.target,d.context).length,c.data.per_view=c.methods.perView(),c.methods.setSizes(),c.methods.setTriggers();var b=0;a(d.target,d.context).each(function(){"undefined"!=typeof a(this).attr("data-slide-to")&&a(this,d.context).attr("data-slide-to")!==!1&&(a(this).attr("data-slide-to",b),b++)}),c.methods.updateNav()},setContext:function(){var b=Math.floor(999999999*Math.random()+1);a(c).closest(".h-slider").attr("id","hslider_"+b),d.context="#hslider_"+b},setSizes:function(){var b=a(d.parent).parent().width(),e=b/c.methods.perView(),f=e*c.data.num,g=100*f/b,h=30,i=g*h/f;i/=a(d.target,d.context).length;var j=100*e/f-1.5*i;a(d.parent,d.context).css({width:g+"%"}),a(d.target,d.context).each(function(){this.style.setProperty("width",j+"%","important"),this.style.setProperty("margin-left",i/2+"%","important"),this.style.setProperty("margin-right",i/2+"%","important")}),a(d.parent).parent().css({overflow:"hidden"})},updateNav:function(){var b=a(d.target,d.context).closest(".h-slider");c.data.slide_state>0?b.removeClass("no-left"):b.addClass("no-left"),c.data.slide_state==c.methods.numOfSlides()-1?b.addClass("no-right"):b.removeClass("no-right")},setTriggers:function(){a("."+d.nav_class,d.context).click(function(b){var d=a(b.currentTarget);d.hasClass("left")?c.methods.slide(c.data.slide_state-1):d.hasClass("right")&&c.methods.slide(c.data.slide_state+1)})},perView:function(){return 3},numOfSlides:function(){return Math.ceil(c.data.num/c.methods.perView())},slide:function(b){return 0>b||b==c.methods.numOfSlides()?!1:(c.data.slide_state=b,c.methods.updateNav(),void a(d.parent).animate({marginLeft:-100*c.data.slide_state+"%"},d.speed))}},c.methods.init()}),this},a.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()}}(jQuery);